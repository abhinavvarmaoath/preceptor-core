<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8'>
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <meta name="description" content="Preceptor-core : Shared library for the preceptor test-runner and aggregator">

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Preceptor-core</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/yahoo/preceptor-core">View on GitHub</a>

          <h1 id="project_title">Preceptor-core</h1>
          <h2 id="project_tagline">Shared library for the preceptor test-runner and aggregator</h2>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/yahoo/preceptor-core/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/yahoo/preceptor-core/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">
        <h1>
<a id="preceptor-core" class="anchor" href="#preceptor-core" aria-hidden="true"><span class="octicon octicon-link"></span></a>Preceptor-Core</h1>

<p>Shared library for the preceptor test-runner and aggregator.</p>

<p><a href="http://travis-ci.org/yahoo/preceptor-core"><img src="https://secure.travis-ci.org/yahoo/preceptor-core.png" alt="Build Status"></a>
<a href="http://badge.fury.io/js/preceptor-core"><img src="https://badge.fury.io/js/preceptor-core.svg" alt="npm version"></a></p>

<p><a href="https://nodei.co/npm/preceptor-core/"><img src="https://nodei.co/npm/preceptor-core.png?downloads=true" alt="NPM"></a></p>

<p><a href="http://yahoo.github.io/preceptor-core/docs/">API-Documentation</a></p>

<p><a href="http://yahoo.github.io/preceptor-core/coverage/lcov-report/">Coverage Report</a></p>

<p><strong>Table of Contents</strong></p>

<ul>
<li><a href="#installation">Installation</a></li>
<li>
<a href="#usage">Usage</a>

<ul>
<li>
<a href="#base-object">Base-Object</a>

<ul>
<li><a href="#static-properties---defined-on-the-constructor">Static Properties</a></li>
<li><a href="#dynamic-properties---defined-on-this-or-prototype">Dynamic Properties</a></li>
</ul>
</li>
<li>
<a href="#utils">Utils</a>

<ul>
<li><a href="#extendapply">extendApply</a></li>
<li><a href="#deepextend">deepExtend</a></li>
<li><a href="#combine">combine</a></li>
<li><a href="#superwrapper">superWrapper</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#api-documentation">API-Documentation</a></li>
<li><a href="#tests">Tests</a></li>
<li><a href="#third-party-libraries">Third-party libraries</a></li>
<li><a href="#license">License</a></li>
</ul>

<h2>
<a id="installation" class="anchor" href="#installation" aria-hidden="true"><span class="octicon octicon-link"></span></a>Installation</h2>

<p>Install this module with the following command:</p>

<div class="highlight highlight-shell"><pre>npm install preceptor-core</pre></div>

<p>Add the module to your <code>package.json</code> dependencies:</p>

<div class="highlight highlight-shell"><pre>npm install --save preceptor-core</pre></div>

<p>Add the module to your <code>package.json</code> dev-dependencies:</p>

<div class="highlight highlight-shell"><pre>npm install --save-dev preceptor-core</pre></div>

<p>Require the module in your source-code:</p>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> core <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>preceptor-core<span class="pl-pds">'</span></span>);</pre></div>

<h2>
<a id="usage" class="anchor" href="#usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Usage</h2>

<p>The module exposes two objects:</p>

<ul>
<li>
<code>Base</code> - A base object that every preceptor object should inherit from. See below for more information.</li>
<li>
<code>utils</code> - Frequently used utility functions</li>
</ul>

<h3>
<a id="base-object" class="anchor" href="#base-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>Base-Object</h3>

<p>The Base object inherits all features of the EventEmitter and exposes a couple static and dynamic properties:</p>

<h4>
<a id="static-properties---defined-on-the-constructor" class="anchor" href="#static-properties---defined-on-the-constructor" aria-hidden="true"><span class="octicon octicon-link"></span></a>Static Properties - Defined on the constructor</h4>

<h5>
<a id="type-string" class="anchor" href="#type-string" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>TYPE</code> {string}</h5>

<p>Describes the type of the object. The default value is "Base".
Overwrite this value in sub-objects to help in debugging as the will appear as descriptor of an object.</p>

<h5>
<a id="extend-function" class="anchor" href="#extend-function" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>extend</code> {function}</h5>

<p>Extends the current object by creating a new constructor and inheriting all static and dynamic properties. Every function will be wrapped in a <code>__super</code> wrapper that will make the <code>__super</code> function available in every method call. (See below for more information!)</p>

<p><em>Parameters:</em></p>

<ul>
<li>
<code>constructFn</code> {function} - The function to be used as constructor. This parameter is optional. When no function is given, then a generic function is used.</li>
<li>
<code>prototypeProperties</code> {object} - Properties that should be assigned the the <code>prototype</code> property of the constructor. This parameter is required.</li>
<li>
<code>staticProperties</code> {object} - Properties that should be assigned to the constructor. This parameter is optional.</li>
</ul>

<h5>
<a id="tostring-function" class="anchor" href="#tostring-function" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>toString</code> {function}</h5>

<p>Describes the object. By default, the format is: <code>[TYPE]</code> where by <code>TYPE</code> is the value assigned to the constructor.</p>

<h5>
<a id="__parent-object" class="anchor" href="#__parent-object" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>__parent</code> {object}</h5>

<p>This is a reference to the parent prototype.</p>

<h4>
<a id="dynamic-properties---defined-on-this-or-prototype" class="anchor" href="#dynamic-properties---defined-on-this-or-prototype" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dynamic Properties - Defined on <code>this</code> or <code>prototype</code>
</h4>

<h5>
<a id="uniqueid-string" class="anchor" href="#uniqueid-string" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>uniqueId</code> {string}</h5>

<p>Every instance of an object gets a unique-id assigned.</p>

<h5>
<a id="name-string" class="anchor" href="#name-string" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>NAME</code> {string}</h5>

<p>Describes the instance. The default value is "unnamed".
Overwrite this value in instances to help to help identifying instances during run-time.</p>

<h5>
<a id="tostring-function-1" class="anchor" href="#tostring-function-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>toString</code> {function}</h5>

<p>Describes the instance. By default, the format is: <code>[TYPE::NAME(uniqueId)]</code> where by <code>TYPE</code> is the value assigned to the constructor, and <code>NAME</code> is the value assigned to the instance.</p>

<h5>
<a id="__super-function" class="anchor" href="#__super-function" aria-hidden="true"><span class="octicon octicon-link"></span></a>
<code>__super</code> {function}</h5>

<p>Accessor function to access the parent implementation of a method. Should there be no parent method, then this method is an empty function.</p>

<h4>
<a id="example" class="anchor" href="#example" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> Base <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>preceptor-core<span class="pl-pds">'</span></span>).Base;

<span class="pl-c">/**</span>
<span class="pl-c"> * @class Pet</span>
<span class="pl-c"> * @extends Base</span>
<span class="pl-c"> * @properties {string} _type Type of pet</span>
<span class="pl-c"> * @properties {string} _name Name of pet</span>
<span class="pl-c"> */</span>
<span class="pl-s">var</span> Pet <span class="pl-k">=</span> Base.extend(

    <span class="pl-c">/**</span>
<span class="pl-c">     * Constructor of Pet</span>
<span class="pl-c">     *</span>
<span class="pl-c">     * @constructor</span>
<span class="pl-c">     * @param {string} type Type of pet</span>
<span class="pl-c">     * @param {string} name Name of pet</span>
<span class="pl-c">     */</span>
     <span class="pl-st">function</span> (<span class="pl-vpf">type</span>, <span class="pl-vpf">name</span>) {

        <span class="pl-c">// Call the parent constructor</span>
        <span class="pl-v">this</span>.__super();

        <span class="pl-c">// Save property on the current object</span>
        <span class="pl-v">this</span>._type <span class="pl-k">=</span> type;
        <span class="pl-v">this</span>._name <span class="pl-k">=</span> name;

        <span class="pl-c">// Add instance descriptor</span>
        <span class="pl-v">this</span>.NAME <span class="pl-k">=</span> type <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> name;

        <span class="pl-c">// Define here all dynamic values, values that should not be shared between multiple instances of "Pet".</span>
    },

    <span class="pl-c">/** @lends Pet.prototype */</span>
    { <span class="pl-c">// Properties assigned to the prototype of "Pet"</span>

        <span class="pl-c">/**</span>
<span class="pl-c">         * Make sound of pet</span>
<span class="pl-c">         *</span>
<span class="pl-c">         * @param {string} sound</span>
<span class="pl-c">         * @method makeSound</span>
<span class="pl-c">         */</span>
        <span class="pl-en">makeSound</span>: <span class="pl-st">function</span> (<span class="pl-vpf">sound</span>) {
            <span class="pl-v">this</span>.emit(<span class="pl-s1"><span class="pl-pds">'</span>sound<span class="pl-pds">'</span></span>, <span class="pl-v">this</span>.getName(), sound);

            <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-v">this</span>.getName() <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">"</span> says: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> sound);
        },

        <span class="pl-c">/**</span>
<span class="pl-c">         * Gets the name of the pet</span>
<span class="pl-c">         *</span>
<span class="pl-c">         * @return {string}</span>
<span class="pl-c">         */</span>
        <span class="pl-en">getName</span>: <span class="pl-st">function</span> () {
            <span class="pl-k">return</span> <span class="pl-v">this</span>._name;
        }

        <span class="pl-c">// ...</span>
        <span class="pl-c">// Any other functions and values assigned to the prototype.</span>

        <span class="pl-c">// These properties can be accessed after instantiation with ```petInstance.makeSound()```.</span>

        <span class="pl-c">// You can also define here all values that should be available in instances of "Pet" that should be shared</span>
        <span class="pl-c">// across all object instances.</span>
    },

    <span class="pl-c">/** @lends Pet */</span>
    { <span class="pl-c">// Properties assigned to the constructor of "Pet"</span>

        <span class="pl-c">/**</span>
<span class="pl-c">         * @type {string}</span>
<span class="pl-c">         */</span>
        TYPE<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">"</span>Pet<span class="pl-pds">"</span></span>

        <span class="pl-c">// ...</span>
        <span class="pl-c">// Any other constructor functions and values.</span>

        <span class="pl-c">// These properties can be accessed with ```Pet.TYPE```.</span>
    }
);

<span class="pl-c">/**</span>
<span class="pl-c"> * @class Cat</span>
<span class="pl-c"> * @extends Pet</span>
<span class="pl-c"> */</span>
<span class="pl-s">var</span> Cat <span class="pl-k">=</span> Pet.extend(

    <span class="pl-c">/**</span>
<span class="pl-c">     * Constructor of Cat</span>
<span class="pl-c">     *</span>
<span class="pl-c">     * @constructor</span>
<span class="pl-c">     * @param {string} name Name of pet</span>
<span class="pl-c">     */</span>
    <span class="pl-st">function</span> (<span class="pl-vpf">name</span>) {
        <span class="pl-v">this</span>.__super(<span class="pl-s1"><span class="pl-pds">"</span>cat<span class="pl-pds">"</span></span>, name);
    },

    <span class="pl-c">/** @lends Cat.prototype */</span>
    { <span class="pl-c">// Properties assigned to the prototype of "Cat"</span>
        <span class="pl-c">/**</span>
<span class="pl-c">         * Make sound of cat</span>
<span class="pl-c">         *</span>
<span class="pl-c">         * @method makeSound</span>
<span class="pl-c">         */</span>
        <span class="pl-en">makeSound</span>: <span class="pl-st">function</span> () {
            <span class="pl-v">this</span>.__super(<span class="pl-s1"><span class="pl-pds">"</span>miau<span class="pl-pds">"</span></span>);
        }
    },

    <span class="pl-c">/** @lends Cat */</span>
    { <span class="pl-c">// Properties assigned to the constructor of "Cat"</span>
        <span class="pl-c">/**</span>
<span class="pl-c">         * @type {string}</span>
<span class="pl-c">         */</span>
        TYPE<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">"</span>Cat<span class="pl-pds">"</span></span>
    }
);

<span class="pl-c">/**</span>
<span class="pl-c"> * @class Dog</span>
<span class="pl-c"> * @extends Pet</span>
<span class="pl-c"> */</span>
<span class="pl-s">var</span> Dog <span class="pl-k">=</span> Pet.extend(

    <span class="pl-c">/**</span>
<span class="pl-c">     * Constructor of Dog</span>
<span class="pl-c">     *</span>
<span class="pl-c">     * @constructor</span>
<span class="pl-c">     * @param {string} name Name of pet</span>
<span class="pl-c">     */</span>
        <span class="pl-st">function</span> (<span class="pl-vpf">name</span>) {
        <span class="pl-v">this</span>.__super(<span class="pl-s1"><span class="pl-pds">"</span>dog<span class="pl-pds">"</span></span>, name);
    },

    <span class="pl-c">/** @lends Dog.prototype */</span>
    { <span class="pl-c">// Properties assigned to the prototype of "Dog"</span>
        <span class="pl-c">/**</span>
<span class="pl-c">         * Make sound of cat</span>
<span class="pl-c">         *</span>
<span class="pl-c">         * @method makeSound</span>
<span class="pl-c">         */</span>
        <span class="pl-en">makeSound</span>: <span class="pl-st">function</span> () {
            <span class="pl-v">this</span>.__super(<span class="pl-s1"><span class="pl-pds">"</span>barf<span class="pl-pds">"</span></span>);
        }
    },

    <span class="pl-c">/** @lends Dog */</span>
    { <span class="pl-c">// Properties assigned to the constructor of "Dog"</span>
        <span class="pl-c">/**</span>
<span class="pl-c">         * @type {string}</span>
<span class="pl-c">         */</span>
        TYPE<span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">"</span>Dog<span class="pl-pds">"</span></span>
    }
);

<span class="pl-s">var</span> tomTheCat <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Cat</span>(<span class="pl-s1"><span class="pl-pds">"</span>Tom<span class="pl-pds">"</span></span>);
<span class="pl-s">var</span> zeusTheDog <span class="pl-k">=</span> <span class="pl-k">new</span> <span class="pl-en">Dog</span>(<span class="pl-s1"><span class="pl-pds">"</span>Zeus<span class="pl-pds">"</span></span>);

<span class="pl-c">// Listen to events</span>
tomTheCat.on(<span class="pl-s1"><span class="pl-pds">'</span>sound<span class="pl-pds">'</span></span>, <span class="pl-st">function</span> (<span class="pl-vpf">name</span>, <span class="pl-vpf">sound</span>) {
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>The cat said <span class="pl-pds">"</span></span> <span class="pl-k">+</span> sound);
});
zeusTheDog.on(<span class="pl-s1"><span class="pl-pds">'</span>sound<span class="pl-pds">'</span></span>, <span class="pl-st">function</span> (<span class="pl-vpf">name</span>, <span class="pl-vpf">sound</span>) {
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>The dog said <span class="pl-pds">"</span></span> <span class="pl-k">+</span> sound);
});

<span class="pl-c">// Make sounds</span>
tomTheCat.makeSound();
zeusTheDog.makeSound();

<span class="pl-c">// Print instance identifier</span>
<span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Cat object: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> Cat.<span class="pl-s3">toString</span>());
<span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Cat instance<span class="pl-pds">"</span></span>, tomTheCat.<span class="pl-s3">toString</span>());

<span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Dog object: <span class="pl-pds">"</span></span> <span class="pl-k">+</span> Dog.<span class="pl-s3">toString</span>());
<span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Dog instance<span class="pl-pds">"</span></span>, zeusTheDog.<span class="pl-s3">toString</span>());</pre></div>

<p><em>Output:</em></p>

<div class="highlight highlight-shell"><pre>The cat said miau
Tom says: miau
The dog said barf
Zeus says: barf
Cat object: [Cat]
Cat instance [Cat::cat:Tom(instance1)]
Dog object: [Dog]
Dog instance [Dog::dog:Zeus(instance2)]</pre></div>

<hr>

<h2>
<a id="utils" class="anchor" href="#utils" aria-hidden="true"><span class="octicon octicon-link"></span></a>Utils</h2>

<p>Utils exposes the following utility functions:</p>

<h3>
<a id="extendapply" class="anchor" href="#extendapply" aria-hidden="true"><span class="octicon octicon-link"></span></a>extendApply</h3>

<p>This extend-function works like any other extend function, except it calls a function on each value and uses the result as value of a property.</p>

<p>Parameters:</p>

<ul>
<li>
<code>obj</code> {object} - Destination object to merge values into</li>
<li>
<code>objects</code> {object[]} - Array of objects that should be copied into the <code>obj</code>.</li>
<li>
<code>fn</code> {function} - Function that returns a value that should be used in place of the original value. Every property in the objects of the <code>objects</code> parameter will call this function. This parameter is optional. Should no function be supplied, then the values will be used as-is.</li>
</ul>

<p>Apply-Function Parameters:</p>

<ul>
<li>
<code>srcValue</code> {*} - The original value of a property that should be copied to the <code>obj</code>.</li>
<li>
<code>dstValue</code> {*} - Current value on the <code>obj</code> object.</li>
<li>
<code>options</code> {object} - Additional options</li>
<li>
<code>options.key</code> {string} - Name of the property that should be copied.</li>
<li>
<code>options.currentObject</code> {object} _ The object currently processed from the <code>objects</code> list.</li>
<li>
<code>options.objectIndex</code> {int} - The index of <code>currentObject</code> in the <code>objects</code> list.</li>
<li>
<code>options.valueIndex</code> {int} - The index of the current property in <code>currentObject</code>.</li>
</ul>

<h4>
<a id="example---simple-extend" class="anchor" href="#example---simple-extend" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example - Simple extend</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> utils <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>../../<span class="pl-pds">'</span></span>).utils;
<span class="pl-s">var</span> result;

<span class="pl-s">var</span> obj1 <span class="pl-k">=</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">"</span>obj1<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>entry1<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">23</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>entry2<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">46</span>
};

<span class="pl-s">var</span> obj2 <span class="pl-k">=</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>name<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">"</span>obj2<span class="pl-pds">"</span></span>,
    <span class="pl-s1"><span class="pl-pds">"</span>entry2<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">78</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>entry3<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">2</span>
};

<span class="pl-s">var</span> srcObj <span class="pl-k">=</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>entry0<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">0</span>
};


<span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Simple extend:<span class="pl-pds">"</span></span>);
utils.extendApply(srcObj, [obj1, obj2]);
<span class="pl-en">console</span><span class="pl-s3">.log</span>(srcObj);</pre></div>

<p>Output:</p>

<div class="highlight highlight-shell"><pre>Simple extend:
{ entry0: 0, name: <span class="pl-s1"><span class="pl-pds">'</span>obj2<span class="pl-pds">'</span></span>, entry1: 23, entry2: 78, entry3: 2 }</pre></div>

<h4>
<a id="example---extend-with-apply-function" class="anchor" href="#example---extend-with-apply-function" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example - Extend with apply function</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Extend with function:<span class="pl-pds">"</span></span>);
result <span class="pl-k">=</span> utils.extendApply({}, [obj1, obj2], <span class="pl-st">function</span> (<span class="pl-vpf">value</span>) {
    <span class="pl-k">return</span> value <span class="pl-k">+</span> <span class="pl-c1">1</span>;
});
<span class="pl-en">console</span><span class="pl-s3">.log</span>(result);</pre></div>

<p>Output:</p>

<div class="highlight highlight-shell"><pre>Extend with function:
{ name: <span class="pl-s1"><span class="pl-pds">'</span>obj21<span class="pl-pds">'</span></span>, entry1: 24, entry2: 79, entry3: 3 }</pre></div>

<h4>
<a id="example---logging-extend-apply-calls" class="anchor" href="#example---logging-extend-apply-calls" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example - Logging extend apply calls</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Extend logging:<span class="pl-pds">"</span></span>);
result <span class="pl-k">=</span> utils.extendApply({}, [obj1, obj2], <span class="pl-st">function</span> (<span class="pl-vpf">srcValue</span>, <span class="pl-vpf">dstValue</span>, <span class="pl-vpf">options</span>) {

    <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>The value '<span class="pl-pds">"</span></span> <span class="pl-k">+</span> srcValue <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">"</span>' with key '<span class="pl-pds">"</span></span> <span class="pl-k">+</span> options.key <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">"</span>' from object with name '<span class="pl-pds">"</span></span> <span class="pl-k">+</span>
        options.currentObject.<span class="pl-sc">name</span> <span class="pl-k">+</span>  <span class="pl-s1"><span class="pl-pds">"</span>' was '<span class="pl-pds">"</span></span> <span class="pl-k">+</span> dstValue <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">"</span>' in the original object<span class="pl-pds">"</span></span>);

    <span class="pl-k">return</span> options.objectIndex <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">'</span>:<span class="pl-pds">'</span></span> <span class="pl-k">+</span> options.valueIndex;
});
<span class="pl-en">console</span><span class="pl-s3">.log</span>(result);</pre></div>

<p>Output:</p>

<div class="highlight highlight-shell"><pre>Extend logging:
The value <span class="pl-s1"><span class="pl-pds">'</span>obj1<span class="pl-pds">'</span></span> with key <span class="pl-s1"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span> from object with name <span class="pl-s1"><span class="pl-pds">'</span>obj1<span class="pl-pds">'</span></span> was <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span> <span class="pl-k">in</span> the original object
The value <span class="pl-s1"><span class="pl-pds">'</span>23<span class="pl-pds">'</span></span> with key <span class="pl-s1"><span class="pl-pds">'</span>entry1<span class="pl-pds">'</span></span> from object with name <span class="pl-s1"><span class="pl-pds">'</span>obj1<span class="pl-pds">'</span></span> was <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span> <span class="pl-k">in</span> the original object
The value <span class="pl-s1"><span class="pl-pds">'</span>46<span class="pl-pds">'</span></span> with key <span class="pl-s1"><span class="pl-pds">'</span>entry2<span class="pl-pds">'</span></span> from object with name <span class="pl-s1"><span class="pl-pds">'</span>obj1<span class="pl-pds">'</span></span> was <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span> <span class="pl-k">in</span> the original object
The value <span class="pl-s1"><span class="pl-pds">'</span>obj2<span class="pl-pds">'</span></span> with key <span class="pl-s1"><span class="pl-pds">'</span>name<span class="pl-pds">'</span></span> from object with name <span class="pl-s1"><span class="pl-pds">'</span>obj2<span class="pl-pds">'</span></span> was <span class="pl-s1"><span class="pl-pds">'</span>0:0<span class="pl-pds">'</span></span> <span class="pl-k">in</span> the original object
The value <span class="pl-s1"><span class="pl-pds">'</span>78<span class="pl-pds">'</span></span> with key <span class="pl-s1"><span class="pl-pds">'</span>entry2<span class="pl-pds">'</span></span> from object with name <span class="pl-s1"><span class="pl-pds">'</span>obj2<span class="pl-pds">'</span></span> was <span class="pl-s1"><span class="pl-pds">'</span>0:2<span class="pl-pds">'</span></span> <span class="pl-k">in</span> the original object
The value <span class="pl-s1"><span class="pl-pds">'</span>2<span class="pl-pds">'</span></span> with key <span class="pl-s1"><span class="pl-pds">'</span>entry3<span class="pl-pds">'</span></span> from object with name <span class="pl-s1"><span class="pl-pds">'</span>obj2<span class="pl-pds">'</span></span> was <span class="pl-s1"><span class="pl-pds">'</span>undefined<span class="pl-pds">'</span></span> <span class="pl-k">in</span> the original object
{ name: <span class="pl-s1"><span class="pl-pds">'</span>1:0<span class="pl-pds">'</span></span>, entry1: <span class="pl-s1"><span class="pl-pds">'</span>0:1<span class="pl-pds">'</span></span>, entry2: <span class="pl-s1"><span class="pl-pds">'</span>1:1<span class="pl-pds">'</span></span>, entry3: <span class="pl-s1"><span class="pl-pds">'</span>1:2<span class="pl-pds">'</span></span> }</pre></div>

<hr>

<h3>
<a id="deepextend" class="anchor" href="#deepextend" aria-hidden="true"><span class="octicon octicon-link"></span></a>deepExtend</h3>

<p>Extends an object with properties that will be recursively copied.</p>

<p>Parameters:</p>

<ul>
<li>
<code>obj</code> {object} - Destination object to merge values into</li>
<li>
<code>objects</code> {object[]} - Array of objects that should be copied into the <code>obj</code>.</li>
<li>
<code>options</code> {object} - Additional options.</li>
<li>
<code>options.replace</code> {boolean} - If set, then array entries in destination will be replaced instead of values appended to the destination list.</li>
</ul>

<h4>
<a id="example-simple-usage" class="anchor" href="#example-simple-usage" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example: Simple usage</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> utils <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>preceptor-core<span class="pl-pds">'</span></span>).utils;

<span class="pl-s">var</span> obj1 <span class="pl-k">=</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>entry1<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-c1">1</span>, <span class="pl-c1">2</span>, <span class="pl-c1">3</span>],
    <span class="pl-s1"><span class="pl-pds">"</span>entry2<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-c1">5</span>, <span class="pl-c1">6</span>],
    <span class="pl-s1"><span class="pl-pds">"</span>entry4<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">23</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>entry5<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>entry6<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">22</span>,
        <span class="pl-s1"><span class="pl-pds">"</span>entry7<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">24</span>,
        <span class="pl-s1"><span class="pl-pds">"</span>entry8<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
            <span class="pl-s1"><span class="pl-pds">"</span>entry9<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">9</span>
        }
    }
};

<span class="pl-s">var</span> obj2 <span class="pl-k">=</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>entry2<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-c1">8</span>, <span class="pl-c1">9</span>],
    <span class="pl-s1"><span class="pl-pds">"</span>entry3<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">2</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>entry5<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>entry7<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">21</span>,
        <span class="pl-s1"><span class="pl-pds">"</span>entry10<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">11</span>
    }
};

<span class="pl-s">var</span> srcObj <span class="pl-k">=</span> {
    <span class="pl-s1"><span class="pl-pds">"</span>entry0<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-c1">0</span>,
    <span class="pl-s1"><span class="pl-pds">"</span>entry2<span class="pl-pds">"</span></span><span class="pl-k">:</span> [<span class="pl-c1">7</span>],
    <span class="pl-s1"><span class="pl-pds">"</span>entry5<span class="pl-pds">"</span></span><span class="pl-k">:</span> {
        <span class="pl-s1"><span class="pl-pds">"</span>entry0<span class="pl-pds">"</span></span><span class="pl-k">:</span> <span class="pl-s1"><span class="pl-pds">"</span>zero<span class="pl-pds">"</span></span>
    }
};

utils.deepExtend(srcObj, [obj1, obj2]);
<span class="pl-en">console</span><span class="pl-s3">.log</span>(srcObj);</pre></div>

<p>Output:</p>

<div class="highlight highlight-shell"><pre>{ entry0: 0,
  entry2: [ 7, 5, 6, 8, 9 ],
  entry5:
   { entry0: <span class="pl-s1"><span class="pl-pds">'</span>zero<span class="pl-pds">'</span></span>,
     entry6: 22,
     entry7: 21,
     entry8: { entry9: 9 },
     entry10: 11 },
  entry1: [ 1, 2, 3 ],
  entry4: 23,
  entry3: 2 }</pre></div>

<h4>
<a id="example-use-with-replace" class="anchor" href="#example-use-with-replace" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example: Use with replace</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> utils <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>preceptor-core<span class="pl-pds">'</span></span>).utils;
<span class="pl-s">var</span> result;

result <span class="pl-k">=</span> utils.deepExtend({}, [obj1, obj2], { replace<span class="pl-k">:</span> <span class="pl-c1">true</span> });
<span class="pl-en">console</span><span class="pl-s3">.log</span>(result);</pre></div>

<p>Output:</p>

<div class="highlight highlight-shell"><pre>{ entry1: [ 1, 2, 3 ],
    entry2: [ 8, 9 ],
    entry4: 23,
    entry5: { entry6: 22, entry7: 21, entry8: { entry9: 9 }, entry10: 11 },
    entry3: 2 }</pre></div>

<hr>

<h3>
<a id="combine" class="anchor" href="#combine" aria-hidden="true"><span class="octicon octicon-link"></span></a>combine</h3>

<p>Combines multiple strings by applying a glue-string between them if they are not already available there. This is very similar to the <code>path.join</code> method, but it doesn't care what the structure of the rest or the string is.</p>

<p>This method is used with the <code>extendApply</code> function to give object methods the possibility to call the parent method with <code>__super()</code>.</p>

<p>Parameters:</p>

<ul>
<li>
<code>glue</code> {string} - Glue string</li>
<li>
<code>str, ...</code> {string} - Strings that should be glued.</li>
</ul>

<h4>
<a id="example-simple-usage-1" class="anchor" href="#example-simple-usage-1" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example: Simple usage</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> utils <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>preceptor-core<span class="pl-pds">'</span></span>).utils;

<span class="pl-en">console</span><span class="pl-s3">.log</span>(utils.combine(<span class="pl-s1"><span class="pl-pds">'</span>-<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span><span class="pl-pds">'</span></span>));
<span class="pl-c">// Output: -</span>

<span class="pl-en">console</span><span class="pl-s3">.log</span>(utils.combine(<span class="pl-s1"><span class="pl-pds">'</span>-<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>test1<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>test2<span class="pl-pds">'</span></span>));
<span class="pl-c">// Output: test1-test2</span>

<span class="pl-en">console</span><span class="pl-s3">.log</span>(utils.combine(<span class="pl-s1"><span class="pl-pds">'</span>-<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>-test1-<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>-test2-<span class="pl-pds">'</span></span>));
<span class="pl-c">// Output: -test1-test2-</span>

<span class="pl-en">console</span><span class="pl-s3">.log</span>(utils.combine(<span class="pl-s1"><span class="pl-pds">'</span>-<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>test1-<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>test2<span class="pl-pds">'</span></span>));
<span class="pl-c">// Output: test1-test2</span>

<span class="pl-en">console</span><span class="pl-s3">.log</span>(utils.combine(<span class="pl-s1"><span class="pl-pds">'</span>-<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>test1<span class="pl-pds">'</span></span>, <span class="pl-s1"><span class="pl-pds">'</span>-test2<span class="pl-pds">'</span></span>));
<span class="pl-c">// Output: test1-test2</span></pre></div>

<hr>

<h3>
<a id="superwrapper" class="anchor" href="#superwrapper" aria-hidden="true"><span class="octicon octicon-link"></span></a>superWrapper</h3>

<p>Function that creates a new function that sets the <code>__super</code> property up to be called from within a function body.</p>

<p>Parameters:</p>

<ul>
<li>
<code>currentItem</code> {*} - Value that should be used</li>
<li>
<code>previousItem</code> {*} - Previous item value</li>
</ul>

<h4>
<a id="example-simple-usage-2" class="anchor" href="#example-simple-usage-2" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example: Simple usage</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> utils <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>preceptor-core<span class="pl-pds">'</span></span>).utils;

<span class="pl-s">var</span> newFn <span class="pl-k">=</span> utils.superWrapper(<span class="pl-st">function</span> (<span class="pl-vpf">value</span>) {
    <span class="pl-v">this</span>.__super(<span class="pl-c1">123</span>, value);
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Method test in object 2 and value <span class="pl-pds">"</span></span> <span class="pl-k">+</span> value);
}, <span class="pl-st">function</span> (<span class="pl-vpf">value1</span>, <span class="pl-vpf">value2</span>) {
    <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Method test in object 1 and values <span class="pl-pds">"</span></span> <span class="pl-k">+</span> value1 <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">"</span> and <span class="pl-pds">"</span></span> <span class="pl-k">+</span> value2);
});
newFn(<span class="pl-c1">88</span>);</pre></div>

<p>Output:</p>

<div class="highlight highlight-shell"><pre>Method <span class="pl-s3">test</span> <span class="pl-k">in</span> object 1 and values 123 and 88
Method <span class="pl-s3">test</span> <span class="pl-k">in</span> object 2 and value 88</pre></div>

<h4>
<a id="example-usage-with-extendapply" class="anchor" href="#example-usage-with-extendapply" aria-hidden="true"><span class="octicon octicon-link"></span></a>Example: Usage with extendApply</h4>

<div class="highlight highlight-javascript"><pre><span class="pl-s">var</span> utils <span class="pl-k">=</span> <span class="pl-s3">require</span>(<span class="pl-s1"><span class="pl-pds">'</span>preceptor-core<span class="pl-pds">'</span></span>).utils;

<span class="pl-s">var</span> obj1 <span class="pl-k">=</span> {
    <span class="pl-en">test</span>: <span class="pl-st">function</span> (<span class="pl-vpf">value1</span>, <span class="pl-vpf">value2</span>) {
        <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Method test in object 1 and values <span class="pl-pds">"</span></span> <span class="pl-k">+</span> value1 <span class="pl-k">+</span> <span class="pl-s1"><span class="pl-pds">"</span> and <span class="pl-pds">"</span></span> <span class="pl-k">+</span> value2);
    }
};

<span class="pl-s">var</span> obj2 <span class="pl-k">=</span> {
    <span class="pl-en">test</span>: <span class="pl-st">function</span> (<span class="pl-vpf">value</span>) {
        <span class="pl-v">this</span>.__super(<span class="pl-c1">123</span>, value);
        <span class="pl-en">console</span><span class="pl-s3">.log</span>(<span class="pl-s1"><span class="pl-pds">"</span>Method test in object 2 and value <span class="pl-pds">"</span></span> <span class="pl-k">+</span> value);
    }
};

<span class="pl-s">var</span> result <span class="pl-k">=</span> utils.extendApply(obj1, [obj2], utils.superWrapper);
result.<span class="pl-s3">test</span>(<span class="pl-c1">88</span>);</pre></div>

<p>Output:</p>

<div class="highlight highlight-shell"><pre>Method <span class="pl-s3">test</span> <span class="pl-k">in</span> object 1 and values 123 and 88
Method <span class="pl-s3">test</span> <span class="pl-k">in</span> object 2 and value 88</pre></div>

<hr>

<h2>
<a id="api-documentation" class="anchor" href="#api-documentation" aria-hidden="true"><span class="octicon octicon-link"></span></a>API-Documentation</h2>

<p>Generate the documentation with following command:</p>

<div class="highlight highlight-shell"><pre>npm run docs</pre></div>

<p>The documentation will be generated in the <code>docs</code> folder of the module root.</p>

<h2>
<a id="tests" class="anchor" href="#tests" aria-hidden="true"><span class="octicon octicon-link"></span></a>Tests</h2>

<p>Run the tests with the following command:</p>

<div class="highlight highlight-shell"><pre>npm run <span class="pl-s3">test</span></pre></div>

<p>The code-coverage will be written to the <code>coverage</code> folder in the module root.</p>

<h2>
<a id="third-party-libraries" class="anchor" href="#third-party-libraries" aria-hidden="true"><span class="octicon octicon-link"></span></a>Third-party libraries</h2>

<p>The following third-party libraries are used by this module:</p>

<h3>
<a id="dependencies" class="anchor" href="#dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dependencies</h3>

<ul>
<li>underscore: <a href="http://underscorejs.org">http://underscorejs.org</a>
</li>
<li>log4js: <a href="https://github.com/stritti/log4js">https://github.com/stritti/log4js</a>
</li>
</ul>

<h3>
<a id="dev-dependencies" class="anchor" href="#dev-dependencies" aria-hidden="true"><span class="octicon octicon-link"></span></a>Dev-Dependencies</h3>

<ul>
<li>chai: <a href="http://chaijs.com">http://chaijs.com</a>
</li>
<li>coveralls: <a href="https://github.com/cainus/node-coveralls">https://github.com/cainus/node-coveralls</a>
</li>
<li>istanbul: <a href="https://github.com/gotwarlost/istanbul">https://github.com/gotwarlost/istanbul</a>
</li>
<li>mocha: <a href="https://github.com/visionmedia/mocha">https://github.com/visionmedia/mocha</a>
</li>
<li>yuidocjs: <a href="https://github.com/yui/yuidoc">https://github.com/yui/yuidoc</a>
</li>
</ul>

<h2>
<a id="license" class="anchor" href="#license" aria-hidden="true"><span class="octicon octicon-link"></span></a>License</h2>

<p>The MIT License</p>

<p>Copyright 2014 Yahoo Inc.</p>
      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Preceptor-core maintained by <a href="https://github.com/yahoo">yahoo</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("https://github.com/yahoo/preceptor-core");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>
